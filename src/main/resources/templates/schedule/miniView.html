<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>排班表</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	rel="stylesheet" />
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
	rel="stylesheet" />
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-timepicker/0.5.2/css/bootstrap-timepicker.min.css" />

<style>
.jobDate {
	width: 450px;
	height: 500px;
	margin: 0;
}

.calendar {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	grid-gap: 1px;
	width: 450px;
	margin: 0 ;
	gap: 1px;
	padding: 0;
}

.calendar-day {
	border: 1px solid #ccc;
	padding: 1px;
	position: relative;
	height: 50px;
	margin: 0;
}

.calendar-day .fw-bold {
	margin-bottom: 3px;
}

.empty {
	background-color: #f0f0f0;
}

.has-schedule {
	background-color: rgb(79, 196, 241);
}
</style>
</head>

<body>
	<div class="jobDate">
		<h4 class="text-center mb-1" id="year-month"
			th:text="${year} + '年' + ${month} + '月排班表'"></h4>

		<div id="schedule-container" class="calendar">
			<div class="fw-bold text-center">週日</div>
			<div class="fw-bold text-center">週一</div>
			<div class="fw-bold text-center">週二</div>
			<div class="fw-bold text-center">週三</div>
			<div class="fw-bold text-center">週四</div>
			<div class="fw-bold text-center">週五</div>
			<div class="fw-bold text-center">週六</div>

			<th:block th:each="day : ${#numbers.sequence(1, daysInMonth)}">
				<div class="calendar-day"
					th:style="${day == 1 ? 'grid-column-start: ' + (firstDayOfWeek + 1) : ''}"
					th:classappend="${schedulesByDayAndTime.containsKey(day) ? 'has-schedule' : ''}">
					<div class="fw-bold" th:text="${day}"></div>
				</div>
			</th:block>
		</div>
	</div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-timepicker/0.5.2/js/bootstrap-timepicker.min.js"></script>
</body>
</html>
